#include "player.h"
#include "path.h"
#include "deck.h"
#include "errors.h"
#include "stdlib.h"

Player* init_player(int playerID, int playerCount, char* pathString) {
    Player* player = (Player*) malloc(sizeof(Player));
    player->playerID = playerID;
    player->playerCount = playerCount;
    player->money = STARTING_MONEY;
    player->V1 = 0;
    player->V2 = 0;
    player->points = 0;
    player->siteNum = 0;
    player->path = read_path(pathString, playerCount);
    player->deck = create_deck(0, NULL);
    if (player->path == NULL) {
        free(pathString);
        exit(player_error_msg(PLAYER_BAD_PATH));
    }
    return player;
}

void free_player(Player* player) {
    free_path(player->path);
    free_deck(player->deck);
    free(player);
}

