#ifndef GAME_H
#define GAME_H

#include "player.h"
#include "deck.h"
#include "path.h"

#define DEALER_ID -1

typedef struct {
    int gid;
    int playerCount;
    int turnCounter;
    Player** players;
    Path* path;
} Game;

typedef struct {
    Game* game;
    Deck* deck;
    int nextCard;
} Dealer;

Game* init_game(int gid, int playerCount, char* pathString);

void free_game(Game* game);

Dealer* init_dealer(int playerCount, char* deckString, char* pathString);

void free_dealer(Dealer* dealer);

void next_card(Dealer* dealer);

void get_turn_order(Game* game, int* turnOrder);

void sort_players_by_site(Player** players, int playerCount);

void sort_players_same_site(Player** players, int playerCount);

void swap_players(Player** players, int i, int j);

bool valid_move(Game* game, int pid, int destSite);

bool site_occupied(Game* game, int siteNum);

bool game_over(Game* game);

int get_playerA_move(Game* game, int pid);

int get_next_site(Game* game, int pid, Site site);
#endif