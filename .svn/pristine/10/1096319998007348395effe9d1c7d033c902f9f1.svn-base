CC = gcc
CFLAGS = -Wall -pedantic -std=gnu99
DEBUG = -g
TARGETS = 2310dealer

.DEFAULT: all
.PHONY: all debug clean

debug: CFLAGS += $(DEBUG)
debug: clean $(TARGETS)

2310dealer: path.o test.o deck.o utility.o player.o errors.o coms.o game.o
	$(CC) $(CFLAGS) -o 2310dealer path.o test.o deck.o utility.o player.o errors.o coms.o game.o 

test.o: test.c path.h
	$(CC) $(CFLAGS) -c test.c

path.o: path.c path.h utility.h
	$(CC) $(CFLAGS) -c path.c

deck.o: deck.c deck.h utility.h errors.h
	$(CC) $(CFLAGS) -c deck.c

utility.o: utility.c utility.h
	$(CC) $(CFLAGS) -c utility.c

player.o: player.c player.h errors.h coms.h
	$(CC) $(CFLAGS) -c player.c

errors.o: errors.c errors.h
	$(CC) $(CFLAGS) -c errors.c

game.o: game.c game.h player.h path.h errors.h utility.h
	$(CC) $(CFLAGS) -c game.c

coms.o: coms.c coms.h game.h player.h errors.h
	$(CC) $(CFLAGS) -c coms.c

clean:	
	rm -f $(TARGETS) *.o