#include "errors.h"
#include "stdio.h"
#include "utility.h"
#include "path.h"
#include "game.h"

int main(int argc, char** argv) {
    check_player_args(argc, argv);
    int playerCount = argv[2], playerID = argv[3];
    printf("^");
    fflush(stdout);
    
    char* pathString = read_line(stdin);
    if (pathString == NULL) {
        exit(player_error_msg(PLAYER_BAD_PATH));
    }
    Game* game = init_game(playerID, playerCount, pathString);
    if (game == NULL) {
        free(pathString);
        exit(player_error_msg(PLAYER_BAD_PATH));
    }
    free(pathString);
    exit(PLAYER_OK);
}